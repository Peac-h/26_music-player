function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},n=r.parcelRequire8400;function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},r.parcelRequire8400=n),n.register("kyEFX",(function(t,r){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var n={};a=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},i=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("kyEFX").register(JSON.parse('{"9oCIV":"index.bff2859a.js","iUBbN":"Exit_Music.4c92a351.mp3","9zL72":"Within.bda80713.mp3","jsuxX":"Circles.297c6f11.mp3","1ZIth":"She_Doesnt_Live_Here_Anymore.96ea1eca.mp3","0cu4Y":"Veridis_Quo.50580fe4.mp3","OAGPL":"Not_Your_Blood.4d1fb64c.mp3","1TNyG":"Imagination.e8c85dd4.mp3","60kWr":"Joaquim.1dd77aab.mp3","gwE6b":"Princess.a385306a.mp3","fbotN":"Nostalgic_Bitch.81279d5e.mp3"}'));var c;c=new URL(n("kyEFX").resolve("iUBbN"),import.meta.url).toString();var o;o=new URL(n("kyEFX").resolve("9zL72"),import.meta.url).toString();var d;d=new URL(n("kyEFX").resolve("jsuxX"),import.meta.url).toString();var l;l=new URL(n("kyEFX").resolve("1ZIth"),import.meta.url).toString();var u;u=new URL(n("kyEFX").resolve("0cu4Y"),import.meta.url).toString();var h;h=new URL(n("kyEFX").resolve("OAGPL"),import.meta.url).toString();var _;_=new URL(n("kyEFX").resolve("1TNyG"),import.meta.url).toString();var k;k=new URL(n("kyEFX").resolve("60kWr"),import.meta.url).toString();var m;m=new URL(n("kyEFX").resolve("gwE6b"),import.meta.url).toString();var f;f=new URL(n("kyEFX").resolve("fbotN"),import.meta.url).toString();const g=[{track:"Exit Music",artist:"Radiohead",source:t(c)},{track:"Within",artist:"Daft Punk",source:t(o)},{track:"Circles",artist:"Mebo Renard",source:t(d)},{track:"She Doesn't Live Here Anymore",artist:"Mebo Renard",source:t(l)},{track:"Veridis Quo",artist:"Daft Pank",source:t(u)},{track:"Not Your Blood",artist:"Mellow",source:t(h)},{track:"Imagination",artist:"Nika Chokheli ft. Nina Kipshidze",source:t(_)},{track:"Joaquim",artist:"Oscar and the Wolf",source:t(k)},{track:"Princess",artist:"Oscar and the Wolf",source:t(m)},{track:"Nostalgic Bitch",artist:"Oscar and the Wolf",source:t(f)}],y=document.getElementById("card"),p=document.getElementById("frontCard"),E=document.getElementById("backCard"),b=document.getElementById("track"),v=(document.getElementById("img"),document.getElementById("currTrackTitle")),L=document.getElementById("currTrackArtist"),x=document.getElementById("controls"),P=document.getElementById("repeatBtn"),T=document.getElementById("shuffleBtn"),B=document.getElementById("progressBar"),S=document.getElementById("progressArea"),w=document.getElementById("nextPage"),A=document.getElementById("prevPage"),R=document.getElementById("playlist"),H=document.querySelectorAll(".track"),F=document.querySelectorAll(".btn-pause--back"),I=document.querySelectorAll(".card--back__play"),N=document.querySelectorAll(".line");new class{_loadTrack(e,t=this.curr_track_index){b.src=g[t].source,this._renderTrackInfo(t)}_renderTrackInfo(e){v.textContent=g[e].track,L.textContent=g[e].artist,H.forEach(((e,t)=>{const r=`${g[t].track} <span>${g[t].artist}</span>`;e.innerHTML=r}))}_handleControls(e){const t=e.target.closest("button")?.id;"btnPlay"===t&&this._playTrack(),"btnPause"===t&&this._pauseTrack(),"prevTrackBtn"===t&&this._changeTrack("prev"),"nextTrackBtn"===t&&this._changeTrack("next"),"shuffleBtn"===t&&this._handleState(e.target,"shuffle"),"repeatBtn"===t&&this._handleState(e.target,"repeat")}_playTrack(){b.play(),this.isPlaying=!0,this._renderBackPause(),this._handlePlayPause()}_pauseTrack(){b.pause(),this.isPlaying=!1,this._handlePlayPause(),this._hideAllBackPauses()}_handlePlayPause(){this.isPlaying?(btnPlay.classList.add("hide"),btnPause.classList.remove("hide")):(btnPlay.classList.remove("hide"),btnPause.classList.add("hide"))}_handleDuration(e){let t=S.clientWidth,r=e.offsetX,a=b.duration;b.currentTime=r/t*a,this._playTrack(),this.isPlaying=!0}_updateTime(e){let t=e.target.currentTime/e.target.duration*100;B.style.width=`${t}%`}_handleState(e,t){const r=e.closest("button");"off"===r.dataset[t]?(r.dataset[t]="on",r.classList.add("button--state-active")):(r.dataset[t]="off",r.classList.remove("button--state-active"))}_changeTrack(e){if("on"===P.dataset.repeat)return this._loadTrack(this.curr_track_index),void this._playTrack();if("on"===T.dataset.shuffle){let e=Math.floor(Math.random()*g.length);return this.curr_track_index=e,this._loadTrack(this.curr_track_index),void this._playTrack()}"prev"===e?(this.curr_track_index--,this.curr_track_index<0&&(this.curr_track_index=g.length-1)):"next"===e&&(this.curr_track_index++,this.curr_track_index>g.length-1&&(this.curr_track_index=0)),this._loadTrack(this.curr_track_index),this._playTrack()}_handleLines(){this.isPlaying?N.forEach((e=>e.classList.add("playing"))):N.forEach((e=>e.classList.remove("playing")))}_showAnotherPage(){E.classList.toggle("show"),p.classList.toggle("hide")}_renderBackPause(){this._hideAllBackPauses();const e=R.querySelector(`[data-index='${this.curr_track_index}']`).querySelector(".card--back__play"),t=R.querySelector(`[data-index='${this.curr_track_index}']`).querySelector(".btn-pause--back");e.classList.add("hide"),t.classList.remove("hide")}_hideAllBackPauses(){F.forEach((e=>{e.classList.add("hide")})),I.forEach((e=>{e.classList.remove("hide")}))}_handleBackClick(e){this.curr_track_index=e.target.closest("li").dataset.index,this._loadTrack(this.curr_track_index),this._playTrack(),this._showAnotherPage()}_backPlay(e){this._showAnotherPage();const t=e.target.closest("li").dataset.index;t!=this.curr_track_index?(this.curr_track_index=t,this._loadTrack(this.curr_track_index),this._playTrack()):this._playTrack()}_backPause(){this._pauseTrack(),F.forEach((e=>{e.classList.add("hide")})),I.forEach((e=>{e.classList.remove("hide")}))}constructor(){s(this,"isPlaying",!1),s(this,"curr_track_index",0),window.addEventListener("load",this._loadTrack.bind(this)),y.addEventListener("click",this._handleLines.bind(this)),b.addEventListener("timeupdate",this._updateTime.bind(this)),x.addEventListener("click",this._handleControls.bind(this)),S.addEventListener("click",this._handleDuration.bind(this)),b.addEventListener("ended",(()=>this._changeTrack("next"))),[w,A].forEach((e=>e.addEventListener("click",this._showAnotherPage.bind(this)))),H.forEach((e=>e.addEventListener("click",this._handleBackClick.bind(this)))),F.forEach((e=>e.addEventListener("click",this._backPause.bind(this)))),I.forEach((e=>e.addEventListener("click",this._backPlay.bind(this))))}};
//# sourceMappingURL=index.bff2859a.js.map
