!function(){function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},i={},n=r.parcelRequire8400;function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},r.parcelRequire8400=n),n.register("iE7OH",(function(t,r){var a,i;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var n={};a=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]]},i=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n.register("aNJCr",(function(t,r){var a;e(t.exports,"getBundleURL",(function(){return a}),(function(e){return a=e}));var i={};function n(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return n(e[2])}return"/"}(),i[e]=t),t}})),n("iE7OH").register(JSON.parse('{"kL7KA":"index.c4105109.js","8WHZh":"Exit_Music.4c92a351.mp3","fNb0K":"Within.bda80713.mp3","5sNC7":"Circles.297c6f11.mp3","9dqYO":"She_Doesnt_Live_Here_Anymore.96ea1eca.mp3","6djAC":"Veridis_Quo.50580fe4.mp3","8Wg8l":"Not_Your_Blood.4d1fb64c.mp3","g72nT":"Imagination.e8c85dd4.mp3","d3t5y":"Joaquim.1dd77aab.mp3","31Bpn":"Princess.a385306a.mp3","fuyJa":"Nostalgic_Bitch.81279d5e.mp3"}'));var c;c=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("8WHZh");var d;d=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("fNb0K");var o;o=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("5sNC7");var l;l=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("9dqYO");var u;u=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("6djAC");var h;h=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("8Wg8l");var _;_=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("g72nT");var k;k=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("d3t5y");var f;f=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("31Bpn");var g;g=n("aNJCr").getBundleURL("kL7KA")+n("iE7OH").resolve("fuyJa");const m=[{track:"Exit Music",artist:"Radiohead",source:t(c)},{track:"Within",artist:"Daft Punk",source:t(d)},{track:"Circles",artist:"Mebo Renard",source:t(o)},{track:"She Doesn't Live Here Anymore",artist:"Mebo Renard",source:t(l)},{track:"Veridis Quo",artist:"Daft Pank",source:t(u)},{track:"Not Your Blood",artist:"Mellow",source:t(h)},{track:"Imagination",artist:"Nika Chokheli ft. Nina Kipshidze",source:t(_)},{track:"Joaquim",artist:"Oscar and the Wolf",source:t(k)},{track:"Princess",artist:"Oscar and the Wolf",source:t(f)},{track:"Nostalgic Bitch",artist:"Oscar and the Wolf",source:t(g)}],p=document.getElementById("card"),y=document.getElementById("frontCard"),E=document.getElementById("backCard"),v=document.getElementById("track"),b=(document.getElementById("img"),document.getElementById("currTrackTitle")),L=document.getElementById("currTrackArtist"),B=document.getElementById("controls"),x=document.getElementById("repeatBtn"),T=document.getElementById("shuffleBtn"),A=document.getElementById("progressBar"),H=document.getElementById("progressArea"),P=document.getElementById("nextPage"),C=document.getElementById("prevPage"),R=document.getElementById("playlist"),S=document.querySelectorAll(".track"),w=document.querySelectorAll(".btn-pause--back"),N=document.querySelectorAll(".card--back__play"),O=document.querySelectorAll(".line");new class{_loadTrack(e,t=this.curr_track_index){v.src=m[t].source,this._renderTrackInfo(t)}_renderTrackInfo(e){b.textContent=m[e].track,L.textContent=m[e].artist,S.forEach(((e,t)=>{const r=`${m[t].track} <span>${m[t].artist}</span>`;e.innerHTML=r}))}_handleControls(e){const t=e.target.closest("button")?.id;"btnPlay"===t&&this._playTrack(),"btnPause"===t&&this._pauseTrack(),"prevTrackBtn"===t&&this._changeTrack("prev"),"nextTrackBtn"===t&&this._changeTrack("next"),"shuffleBtn"===t&&this._handleState(e.target,"shuffle"),"repeatBtn"===t&&this._handleState(e.target,"repeat")}_playTrack(){v.play(),this.isPlaying=!0,this._renderBackPause(),this._handlePlayPause()}_pauseTrack(){v.pause(),this.isPlaying=!1,this._handlePlayPause(),this._hideAllBackPauses()}_handlePlayPause(){this.isPlaying?(btnPlay.classList.add("hide"),btnPause.classList.remove("hide")):(btnPlay.classList.remove("hide"),btnPause.classList.add("hide"))}_handleDuration(e){let t=H.clientWidth,r=e.offsetX,a=v.duration;v.currentTime=r/t*a,this._playTrack(),this.isPlaying=!0}_updateTime(e){let t=e.target.currentTime/e.target.duration*100;A.style.width=`${t}%`}_handleState(e,t){const r=e.closest("button");"off"===r.dataset[t]?(r.dataset[t]="on",r.classList.add("button--state-active")):(r.dataset[t]="off",r.classList.remove("button--state-active"))}_changeTrack(e){if("on"===x.dataset.repeat)return this._loadTrack(this.curr_track_index),void this._playTrack();if("on"===T.dataset.shuffle){let e=Math.floor(Math.random()*m.length);return this.curr_track_index=e,this._loadTrack(this.curr_track_index),void this._playTrack()}"prev"===e?(this.curr_track_index--,this.curr_track_index<0&&(this.curr_track_index=m.length-1)):"next"===e&&(this.curr_track_index++,this.curr_track_index>m.length-1&&(this.curr_track_index=0)),this._loadTrack(this.curr_track_index),this._playTrack()}_handleLines(){this.isPlaying?O.forEach((e=>e.classList.add("playing"))):O.forEach((e=>e.classList.remove("playing")))}_showAnotherPage(){E.classList.toggle("show"),y.classList.toggle("hide")}_renderBackPause(){this._hideAllBackPauses();const e=R.querySelector(`[data-index='${this.curr_track_index}']`).querySelector(".card--back__play"),t=R.querySelector(`[data-index='${this.curr_track_index}']`).querySelector(".btn-pause--back");e.classList.add("hide"),t.classList.remove("hide")}_hideAllBackPauses(){w.forEach((e=>{e.classList.add("hide")})),N.forEach((e=>{e.classList.remove("hide")}))}_handleBackClick(e){this.curr_track_index=e.target.closest("li").dataset.index,this._loadTrack(this.curr_track_index),this._playTrack(),this._showAnotherPage()}_backPlay(e){this._showAnotherPage();const t=e.target.closest("li").dataset.index;t!=this.curr_track_index?(this.curr_track_index=t,this._loadTrack(this.curr_track_index),this._playTrack()):this._playTrack()}_backPause(){this._pauseTrack(),w.forEach((e=>{e.classList.add("hide")})),N.forEach((e=>{e.classList.remove("hide")}))}constructor(){s(this,"isPlaying",!1),s(this,"curr_track_index",0),window.addEventListener("load",this._loadTrack.bind(this)),p.addEventListener("click",this._handleLines.bind(this)),v.addEventListener("timeupdate",this._updateTime.bind(this)),B.addEventListener("click",this._handleControls.bind(this)),H.addEventListener("click",this._handleDuration.bind(this)),v.addEventListener("ended",(()=>this._changeTrack("next"))),[P,C].forEach((e=>e.addEventListener("click",this._showAnotherPage.bind(this)))),S.forEach((e=>e.addEventListener("click",this._handleBackClick.bind(this)))),w.forEach((e=>e.addEventListener("click",this._backPause.bind(this)))),N.forEach((e=>e.addEventListener("click",this._backPlay.bind(this))))}}}();
//# sourceMappingURL=index.c4105109.js.map
